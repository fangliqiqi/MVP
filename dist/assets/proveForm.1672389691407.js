import{h as e,g as l,E as a}from"./index.1672389691407.js";import{b as o,c as r}from"./prove.1672389691407.js";import d from"./provePdf.1672389691407.js";import{d as m,f as t,$ as u,j as n,c as p,W as s,P as i,a3 as f,o as c,a as V,O as F,T as _,U as b}from"./vue.1672389691407.js";const g={"class":"system-add-dic-container"},T={"class":"dialog-footer"},y=b("取 消"),h=b("生成证明"),U=m({name:"changeProve"}),v=Object.assign(U,{emits:["close"],setup(m,{expose:b,emit:U}){const v=t(null),Y=t(null),D=u({isShowDialog:!1,loading:!1,title:"",type:"",id:"",ruleForm:{empName:"",empIdcard:"",empId:"",empCode:"",projectName:"",post:"",contractStart:"",contractEnd:"",seal:"安徽皖信人力资源管理有限公司（章）",openTime:e().format("YYYY-MM-DD HH:mm:ss"),leaveTime:"",leaveReason:"",entryTime:"",firstContractTime:"",sex:"",introductionUnit:"",socialTime:"",type:""},dict:{prove_peo_sex:null}}),N={projectName:[{required:!0,message:"请输入单位名称",trigger:"blur"}],post:[{required:!0,message:"请输入就职岗位",trigger:"blur"}],firstContractTime:[{required:!0,message:"请选择合同开始时间",trigger:"change"}],contractEnd:[{required:!0,message:"请输入合同结束时间",trigger:"blur"}],leaveTime:[{required:!0,message:"请输入派减离职时间",trigger:"blur"}],leaveReason:[{required:!0,message:"请输入离职原因",trigger:"blur"}],entryTime:[{required:!0,message:"请输入来我单位时间",trigger:"blur"}],firstContractTime:[{required:!0,message:"请输入签订合同时间",trigger:"blur"}],introductionUnit:[{required:!0,message:"请输入介绍单位",trigger:"blur"}],socialTime:[{required:!0,message:"请输入参保开始时间",trigger:"blur"}],seal:[{required:!0,message:"请输入印章名称",trigger:"blur"}]},M=async l=>{o({id:l}).then((l=>{200==l.code&&200==l.code?(D.ruleForm=l.data,D.ruleForm.contractStart=l.data.contractStart||"",D.ruleForm.contractEnd=l.data.contractEnd||"",D.ruleForm.leaveTime=l.data.leaveTime||"",D.ruleForm.entryTime=l.data.entryTime||"",D.ruleForm.firstContractTime=l.data.firstContractTime||"",D.ruleForm.socialTime=l.data.socialTime||"",D.ruleForm.openTime=e().format("YYYY-MM-DD HH:mm:ss"),D.ruleForm.seal="安徽皖信人力资源管理有限公司（章）",D.isShowDialog=!0):(D.ruleForm={},a.error(l.msg||"获取项目档案详情失败"))}))},x=e=>!D.ruleForm.firstContractTime||e.getTime()<Date.parse(D.ruleForm.firstContractTime),C=()=>{v.value.resetFields(),v.value.clearValidate(),D.ruleForm={empName:"",empIdcard:"",empId:"",empCode:"",projectName:"",post:"",contractStart:"",contractEnd:"",seal:"安徽皖信人力资源管理有限公司（章）",openTime:e().format("YYYY-MM-DD HH:mm:ss"),leaveTime:"",leaveReason:"",entryTime:"",firstContractTime:"",sex:"",introductionUnit:"",socialTime:"",type:""},D.isShowDialog=!1},j=()=>{C();const e={id:D.id};U("close",e)},w=()=>{v.value.validate((async e=>{if(e){D.ruleForm.type=D.type;const e=JSON.parse(JSON.stringify(D.ruleForm));r(D.ruleForm).then((l=>{200==l.code?(a.success("生成证明成功"),setTimeout((()=>{Y.value.openDialog(e)}),500),C()):a.error(l.msg||"生成证明失败")}))["catch"]((()=>{a.error("生成证明失败")}))["finally"]((()=>{D.loading=!1}))}}))};return n((()=>{l(["prove_peo_sex"]).then((e=>{D.dict=e}))})),b({openDialog:async e=>{D.title=e.label+"信息",D.type=e.value,D.id=e.id,await M(e.id)}}),(e,l)=>{const a=f("el-input"),o=f("el-form-item"),r=f("el-col"),m=f("el-date-picker"),t=f("el-row"),u=f("el-form"),n=f("el-button"),b=f("el-dialog");return c(),p("div",g,[s(b,{title:D.title,modelValue:D.isShowDialog,"onUpdate:modelValue":l[35]||(l[35]=e=>D.isShowDialog=e),"close-on-click-modal":!1,width:"816px",onClose:C},{footer:i((()=>[V("span",T,[s(n,{onClick:j,size:"default"},{"default":i((()=>[y])),_:1}),s(n,{type:"primary",onClick:w,loading:D.loading,size:"default"},{"default":i((()=>[h])),_:1},8,["loading"])])])),"default":i((()=>[s(u,{model:D.ruleForm,ref_key:"formRef",ref:v,rules:N,"label-width":"130px",inline:!1,size:"default"},{"default":i((()=>[0==D.type?(c(),F(t,{key:0},{"default":i((()=>[s(r,{span:12},{"default":i((()=>[s(o,{label:"姓名"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empName,"onUpdate:modelValue":l[0]||(l[0]=e=>D.ruleForm.empName=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"身份证号"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empIdcard,"onUpdate:modelValue":l[1]||(l[1]=e=>D.ruleForm.empIdcard=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"单位名称",prop:"projectName"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.projectName,"onUpdate:modelValue":l[2]||(l[2]=e=>D.ruleForm.projectName=e),placeholder:"输入单位名称",maxlength:"50"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"就职岗位",prop:"post"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.post,"onUpdate:modelValue":l[3]||(l[3]=e=>D.ruleForm.post=e),placeholder:"输入就职岗位",maxlength:"50"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"合同开始时间",prop:"firstContractTime"},{"default":i((()=>[s(m,{modelValue:D.ruleForm.firstContractTime,"onUpdate:modelValue":l[4]||(l[4]=e=>D.ruleForm.firstContractTime=e),type:"date","value-format":"YYYY-MM-DD 00:00:00",placeholder:"选择合同开始时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"合同结束时间",prop:"contractEnd"},{"default":i((()=>[s(m,{modelValue:D.ruleForm.contractEnd,"onUpdate:modelValue":l[5]||(l[5]=e=>D.ruleForm.contractEnd=e),type:"date","value-format":"YYYY-MM-DD 00:00:00",placeholder:"选择合同结束时间",style:{width:"100%"},"disabled-date":x},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"印章名称",prop:"seal"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.seal,"onUpdate:modelValue":l[6]||(l[6]=e=>D.ruleForm.seal=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"开具证明当天时间"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.openTime,"onUpdate:modelValue":l[7]||(l[7]=e=>D.ruleForm.openTime=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):_("",!0),1==D.type?(c(),F(t,{key:1},{"default":i((()=>[s(r,{span:12},{"default":i((()=>[s(o,{label:"姓名"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empName,"onUpdate:modelValue":l[8]||(l[8]=e=>D.ruleForm.empName=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"身份证号"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empIdcard,"onUpdate:modelValue":l[9]||(l[9]=e=>D.ruleForm.empIdcard=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"单位名称",prop:"projectName"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.projectName,"onUpdate:modelValue":l[10]||(l[10]=e=>D.ruleForm.projectName=e),placeholder:"输入单位名称",maxlength:"50"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"就职岗位",prop:"post"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.post,"onUpdate:modelValue":l[11]||(l[11]=e=>D.ruleForm.post=e),maxlength:"50",placeholder:"输入就职岗位 "},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"派减离职时间",prop:"leaveTime"},{"default":i((()=>[s(m,{modelValue:D.ruleForm.leaveTime,"onUpdate:modelValue":l[12]||(l[12]=e=>D.ruleForm.leaveTime=e),type:"date","value-format":"YYYY-MM-DD 00:00:00",placeholder:"选择派减离职时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"派减离职原因",prop:"leaveReason"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.leaveReason,"onUpdate:modelValue":l[13]||(l[13]=e=>D.ruleForm.leaveReason=e),maxlength:"50",placeholder:"输入派减离职原因"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"印章名称",prop:"seal"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.seal,"onUpdate:modelValue":l[14]||(l[14]=e=>D.ruleForm.seal=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"开具证明当天时间"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.openTime,"onUpdate:modelValue":l[15]||(l[15]=e=>D.ruleForm.openTime=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):_("",!0),2==D.type?(c(),F(t,{key:2},{"default":i((()=>[s(r,{span:12},{"default":i((()=>[s(o,{label:"姓名"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empName,"onUpdate:modelValue":l[16]||(l[16]=e=>D.ruleForm.empName=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"身份证号"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empIdcard,"onUpdate:modelValue":l[17]||(l[17]=e=>D.ruleForm.empIdcard=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"来我单位时间",prop:"entryTime"},{"default":i((()=>[s(m,{modelValue:D.ruleForm.entryTime,"onUpdate:modelValue":l[18]||(l[18]=e=>D.ruleForm.entryTime=e),type:"date","value-format":"YYYY-MM-DD 00:00:00",placeholder:"选择来我单位时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"签订合同时间",prop:"firstContractTime"},{"default":i((()=>[s(m,{modelValue:D.ruleForm.firstContractTime,"onUpdate:modelValue":l[19]||(l[19]=e=>D.ruleForm.firstContractTime=e),type:"date","value-format":"YYYY-MM-DD 00:00:00",placeholder:"选择签订合同时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"派单离职原因",prop:"leaveReason"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.leaveReason,"onUpdate:modelValue":l[20]||(l[20]=e=>D.ruleForm.leaveReason=e),maxlength:"50",placeholder:"输入派单离职原因"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"性别"},{"default":i((()=>[s(a,{modelValue:D.dict.prove_peo_sex[D.ruleForm.sex],"onUpdate:modelValue":l[21]||(l[21]=e=>D.dict.prove_peo_sex[D.ruleForm.sex]=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"印章名称",prop:"seal"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.seal,"onUpdate:modelValue":l[22]||(l[22]=e=>D.ruleForm.seal=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"开具证明当天时间"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.openTime,"onUpdate:modelValue":l[23]||(l[23]=e=>D.ruleForm.openTime=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):_("",!0),3==D.type?(c(),F(t,{key:3},{"default":i((()=>[s(r,{span:24},{"default":i((()=>[s(o,{label:"介绍单位"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.introductionUnit,"onUpdate:modelValue":l[24]||(l[24]=e=>D.ruleForm.introductionUnit=e),modelModifiers:{trim:!0},maxlength:"50",placeholder:"输入介绍单位"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"姓名"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empName,"onUpdate:modelValue":l[25]||(l[25]=e=>D.ruleForm.empName=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"身份证号"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empIdcard,"onUpdate:modelValue":l[26]||(l[26]=e=>D.ruleForm.empIdcard=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"印章名称",prop:"seal"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.seal,"onUpdate:modelValue":l[27]||(l[27]=e=>D.ruleForm.seal=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"开具证明当天时间"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.openTime,"onUpdate:modelValue":l[28]||(l[28]=e=>D.ruleForm.openTime=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):_("",!0),4==D.type?(c(),F(t,{key:4},{"default":i((()=>[s(r,{span:12},{"default":i((()=>[s(o,{label:"姓名"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empName,"onUpdate:modelValue":l[29]||(l[29]=e=>D.ruleForm.empName=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"身份证号"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.empIdcard,"onUpdate:modelValue":l[30]||(l[30]=e=>D.ruleForm.empIdcard=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"参保开始时间",prop:"socialTime"},{"default":i((()=>[s(m,{modelValue:D.ruleForm.socialTime,"onUpdate:modelValue":l[31]||(l[31]=e=>D.ruleForm.socialTime=e),type:"date","value-format":"YYYY-MM-DD 00:00:00",placeholder:"选择参保开始时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"单位名称",prop:"projectName"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.projectName,"onUpdate:modelValue":l[32]||(l[32]=e=>D.ruleForm.projectName=e),maxlength:"50",placeholder:"输入单位名称"},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"印章名称",prop:"seal"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.seal,"onUpdate:modelValue":l[33]||(l[33]=e=>D.ruleForm.seal=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1})])),_:1}),s(r,{span:12},{"default":i((()=>[s(o,{label:"开具证明当天时间"},{"default":i((()=>[s(a,{modelValue:D.ruleForm.openTime,"onUpdate:modelValue":l[34]||(l[34]=e=>D.ruleForm.openTime=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):_("",!0)])),_:1},8,["model"])])),_:1},8,["title","modelValue"]),s(d,{ref_key:"provePdfRef",ref:Y},null,512)])}}});export{v as default};