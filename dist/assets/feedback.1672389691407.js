import{s as e,g as a,E as l}from"./index.1672389691407.js";import{d as s,f as o,$ as t,k as r,j as i,c as n,W as d,P as u,a3 as c,o as y,a as m,F as f,a5 as p,O as h,u as g,U as b}from"./vue.1672389691407.js";async function v(a){return e({url:"/yifu-salary/method/sysmessagesalary/page",method:"GET",params:a})}async function _(a){return e({url:"/yifu-salary/method/thavesalarynosocial/page",method:"GET",params:a})}async function k(a){return e({url:"/yifu-salary/method/thavesalarynosocial/export",method:"POST",responseType:"blob",data:a})}async function S(a){return e({url:"/yifu-salary/method/sysmessagesalary/export",method:"POST",responseType:"blob",data:a})}const T={"class":"system-add-dic-container"},w={"class":"dialog-footer"},V=b("取 消"),F=b("确 定"),O=s({name:"feedback"}),x=Object.assign(O,{emits:["ok"],setup(s,{expose:b,emit:v}){const _=o(null),k=t({isShowDialog:!1,id:null,title:"",type:"",ruleForm:{},dictKeys:["salary_nosocial_feedback","minsalary_feedback"],dictValues:{}}),S={reasonType:[{required:!0,message:"请选择反馈原因",trigger:"change"}]},O=r((()=>"notSocial"==k.type?k.dictValues.salary_nosocial_feedback||[]:"minSalary"==k.type?k.dictValues.minsalary_feedback||[]:void 0)),x=()=>{_.value.resetFields(),k.ruleForm={},k.id=null,k.isShowDialog=!1},j=()=>{x()},D=o(!1),P=()=>{_.value.validate((async a=>{if(a&&(D.value=!0,null!==k.id&&void 0!==k.id)){const a={id:k.id,reasonType:k.ruleForm.reasonType,feedBack:O.value[k.ruleForm.reasonType]};try{const s="notSocial"==k.type?await async function(a){return e({url:"/yifu-salary/method/thavesalarynosocial/feedback",method:"POST",params:a})}(a):await async function(a){return e({url:"/yifu-salary/method/sysmessagesalary/feedback",method:"POST",params:a})}(a);D.value=!1,200===s.code?(l.success("反馈成功"),v("ok"),x()):l.error(s.msg||"反馈失败")}catch(s){D.value=!1,l.error("反馈失败")}}}))};return i((()=>{a(k.dictKeys).then((e=>{e&&(k.dictValues=e)}))})),b({openDialog:(e,a)=>{if(e){k.isShowDialog=!0,k.type=a;const l="minSalary"===a?"最低工资原因反馈":"原因反馈";k.title="notSocial"===a?"有工资无社保原因反馈":l,k.id=e.id}}}),(e,a)=>{const l=c("el-option"),s=c("el-select"),o=c("el-form-item"),t=c("el-col"),r=c("el-row"),i=c("el-form"),b=c("el-button"),v=c("el-dialog");return y(),n("div",T,[d(v,{title:k.title,modelValue:k.isShowDialog,"onUpdate:modelValue":a[1]||(a[1]=e=>k.isShowDialog=e),"close-on-click-modal":!1,width:"576px",onClose:x},{footer:u((()=>[m("span",w,[d(b,{onClick:j,size:"default"},{"default":u((()=>[V])),_:1}),d(b,{type:"primary",onClick:P,loading:D.value,size:"default"},{"default":u((()=>[F])),_:1},8,["loading"])])])),"default":u((()=>[d(i,{ref_key:"formRef",ref:_,model:k.ruleForm,rules:S,size:"default","label-width":"110px"},{"default":u((()=>[d(r,null,{"default":u((()=>[d(t,{span:18},{"default":u((()=>[d(o,{label:"反馈原因",prop:"reasonType"},{"default":u((()=>[d(s,{modelValue:k.ruleForm.reasonType,"onUpdate:modelValue":a[0]||(a[0]=e=>k.ruleForm.reasonType=e),"value-key":"id",placeholder:"请选择反馈原因",clearable:"",filterable:"",style:{width:"100%"}},{"default":u((()=>[(y(!0),n(f,null,p(g(O),((e,a)=>(y(),h(l,{key:a,label:e,value:a},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}}});var j=Object.freeze(Object.defineProperty({__proto__:null,"default":x},Symbol.toStringTag,{value:"Module"}));export{x as _,_ as a,k as b,S as e,j as f,v as g};