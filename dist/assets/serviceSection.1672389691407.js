import"./ProTable.1672389691407.js";import t from"./staffProject.1672389691407.js";import{a,f as e}from"./socialfundSearch.16723896914072.js";import{_ as s,E as c}from"./index.1672389691407.js";import{d as o,k as i,j as l,h as n,$ as r,c as d,W as p,P as u,u as f,O as m,J as j,T as b,ay as v,az as g,a3 as T,o as h,F as S,a5 as _,a as y,V as D}from"./vue.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";import"./header.1672389691407.js";import"./staff.1672389691407.js";import"./contract.1672389691407.js";import"./dicts.1672389691407.js";import"./log.1672389691407.js";import"./translate.1672389691407.js";import"./dict.1672389691407.js";const I={"class":"service-info section-container"},A=(t=>(v("data-v-09488d6e"),t=t(),g(),t))((()=>y("div",{"class":"title"},[
y("span",null,"整体服务概览")],-1))),V=["innerHTML"],k={"class":"desc-content"},x={"class":"detail-tooltip-container"},C=["innerHTML"],F=o({name:"serviceSection"});var H=s(Object.assign(F,{props:{getStaffTitle:Function,getStaffValue:Function,getColNumber:Function,projects:Array},setup(s){const o=s,v=i((()=>{if(o.projects&&o.projects.length){const t=o.projects.find((t=>t.id===H.attachActiveTab));if(t&&1==t.projectStatus)return!0}return!1})),g=async(t,s)=>{if(!t||!s)return H.socialDetail=null,void(H.fundDetail=null);try{const o=await a({idCard:t,deptId:s});o&&200==o.code?H.socialDetail=o.data:(H.socialDetail=null,c.error(o.msg||"获取社保详情失败"));const i=await e({idCard:t,deptId:s});i&&200==i.code?H.fundDetail=i.data:(H.fundDetail=null,c.error(i.msg||"获取公积金详情失败"))}catch(o){c.error("获取社保/公积金详情失败")}};l((()=>{if(o.projects&&o.projects.length){H.attachActiveTab=o.projects[0].id;const t=o.projects[0].empIdcard,a=o.projects[0].deptId;g(t,a)}})),n((()=>o.projects),((t,a)=>{if(t&&t.length){H.attachActiveTab=o.projects[0].id;const t=o.projects[0].empIdcard,a=o.projects[0].deptId;g(t,a)}else H.attachActiveTab=null}));const F=i((()=>!(!o.projects||!o.projects.length))),H=r({params:["contractStatus","socialStatus","fundStatus","insuranceStatus","salaryStatus"],attachActiveTab:null,socialDetail:{},fundDetail:{}});return(a,e)=>{const c=T("el-tooltip"),i=T("el-col"),l=T("el-row"),n=T("el-tab-pane"),r=T("el-tabs");return h(),d("div",I,[A,p(l,null,{"default":u((()=>[(h(!0),d(S,null,_(H.params,(t=>(h(),m(i,{key:`basicInfo_${t}`,"class":"basic-info-item",span:s.getColNumber(t)},{"default":u((()=>[y("span",{"class":"desc-title",innerHTML:s.getStaffTitle(t)},null,8,V),y("div",k,[p(c,{placement:"top-start",effect:"dark","popper-class":"detail-tooltip-popper"},{content:u((()=>[y("div",x,[y("span",{innerHTML:s.getStaffValue(t)},null,8,C)])])),"default":u((()=>[y("span",null,D(s.getStaffValue(t)),1)])),_:2},1024)])])),_:2},1032,["span"])))),128))])),_:1}),f(F)?(h(),m(r,{key:0,modelValue:H.attachActiveTab,"onUpdate:modelValue":e[0]||(e[0]=t=>H.attachActiveTab=t),"class":j("project-tabs "+(f(v)?"reduce-tabs":"")),style:{"margin-top":"16px","margin-left":"30px"},onTabClick:e[1]||(e[1]=t=>((t,a)=>{const e=t.paneName,s=o.projects.find((t=>t.id===e)).empIdcard,c=o.projects.find((t=>t.id===e)).deptId;g(s,c)})(t,H.attachActiveTab))},{"default":u((()=>[(h(!0),d(S,null,_(o.projects,(a=>(h(),m(n,{key:`project_tab_${a.id}`,name:a.id},{label:u((()=>[y("div",{"class":j("pro-custom-tab "+(1==a.projectStatus?"is-reduce":""))},[y("span",null,D(a.deptName),1)],2)])),"default":u((()=>[p(t,{info:a,social:H.socialDetail,fund:H.fundDetail},null,8,["info","social","fund"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue","class"])):b("",!0)])}}}),[["__scopeId","data-v-09488d6e"]]);export{H as default};