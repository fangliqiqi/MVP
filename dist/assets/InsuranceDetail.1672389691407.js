import{d as e,f as t,j as l,n as a,Z as n,a3 as u,o as s,c,W as o,P as d,U as i,V as p,$ as f,a as r,Q as _,O as b,T as m,ay as y,az as v,aA as N,ai as T,F as g,a5 as h,u as k}from"./vue.1672389691407.js";import{g as S,o as E}from"./custserve.1672389691407.js";import w from"./dict.1672389691407.js";import{_ as H,E as I,P as j}from"./index.1672389691407.js";const P=e({name:"TooltipText"}),$=Object.assign(P,{props:{content:"",placement:{type:String,"default":"top"},parentPadding:{type:Number,"default":12}},setup(e){const f=e,r=t(null),_=t(!0);l((async()=>{var e;await a(),_.value=b(r.value)<b(null==(e=r.value)?void 0:e.parentNode,f.parentPadding)})),n((async()=>{var e;await a(),_.value=b(r.value)<b(null==(e=r.value)?void 0:e.parentNode,f.parentPadding)}));const b=(e,t)=>((null==e?void 0:e.clientWidth)||(null==e?void 0:e.offsetWidth))-(t||0)||0;return(e,t)=>{const l=u("el-tooltip");return s(),c("span",{ref_key:"elRef",ref:r},[o(l,{content:f.content,placement:f.placement,disabled:_.value},{"default":d((()=>[i(p(f.content),1)])),_:1},8,["content","placement","disabled"])],512)}}});const L=e=>(y("data-v-13d1e116"),e=e(),v(),e),O={"class":"insurance-detail-body"},x={"class":"insure-info"},C=L((()=>r("div",{"class":"type-title"},"商险派单",-1))),A=i("替换为"),D=L((()=>r("div",{"class":"type-title",style:{"margin-top":"12px"}},"变更历史",-1))),M=["innerHTML"],Q={"class":"insure-process"},U=L((()=>r("div",{"class":"type-title"},"流程详情",-1))),W={"class":"h4"},z={key:0,"class":"p"},J=L((()=>r("span",{"class":"key"},"操作人：",-1))),F={"class":"value"},R={key:1,"class":"p"},V=L((()=>r("span",{"class":"key"},"操作时间：",-1))),Z={"class":"value"},q={key:2,"class":"p"},B=L((()=>r("span",{"class":"key"},"审核意见：",-1))),G={"class":"value"},K=e({name:"InsuranceDetail"});var X=H(Object.assign(K,{setup(e){const t=N(),a=f({loading:!1,info:{},activities:null,changeHistoryList:null});l((()=>{t.params.id?(a.loading=!0,S(t.params.id).then((e=>{var t;a.info=e.data||{},a.changeHistoryList=(null==(t=e.data)?void 0:t.operateList)||[]}))["finally"]((()=>{a.loading=!1})),E(t.params.id).then((e=>{a.activities=e.data||[]}))):I.error("数据合法性校验不通过")}));const n=e=>{const t={policyStart:"保单开始日期",policyEnd:"保单结束日期",buyType:"保单类型"},l=e.differenceInfo,a=JSON.parse(e.newInfo),n=JSON.parse(e.oldInfo);return l.split(",").map((e=>{const l=t[e];let u=n[e],s=a[e];return"buyType"===e&&(u=w.buyType[u],s=w.buyType[s]),""!=u&&null!=u&&null!=u||(u="[空值]"),""!=s&&null!=s&&null!=s||(s="[空值]"),`<div class='diff-item'><span style="font-weight:bold;">"${l}"</span>：<span style="color:var(\t--hro-color-text-disabeld);" class='old-value'>旧值为：${u}</span>，<span class='new-val'>新值为：${s}</span></div>`})).join("")},y=(e,t)=>w[t][v(e)]||"--",v=e=>Array.isArray(e)?e.reduce(((e,t)=>{var l;if(e){const n=null!=(l=a.info[t])?l:"";return`${n}`?`${e}/${n}`:`${e}`}return 0===a.info[t]?"0":`${a.info[t]||""}`}),"")||"--":0===a.info[e]?"0":a.info[e]||"--";return(e,t)=>{const l=u("el-form-item"),f=u("el-col"),N=u("el-row"),S=u("el-divider"),E=u("el-table-column"),w=u("el-table"),H=u("el-form"),I=u("el-timeline-item"),P=u("el-timeline"),L=u("el-empty"),K=T("loading");return s(),c("div",O,[r("div",x,[C,_((s(),b(H,{size:"default","label-width":"140px"},{"default":d((()=>[o(N,{gutter:0},{"default":d((()=>[o(f,{span:8},{"default":d((()=>[o(l,{label:"派单类型"},{"default":d((()=>[o($,{content:y("distributeType","distributeType")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"创建人"},{"default":d((()=>[o($,{content:v("createName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"创建时间"},{"default":d((()=>[o($,{content:v("createTime")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"派单状态"},{"default":d((()=>[o($,{content:y("distributeStatus",5==a.info.distributeType?"reduceHandleStatus":"buyHandleStatus")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保单是否有效"},{"default":d((()=>[o($,{content:y("isEffect","isEffect")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"出险状态"},{"default":d((()=>[o($,{content:y("isUse","isUse")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保单是否过期"},{"default":d((()=>[o($,{content:y("isOverdue","isOverdue")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"姓名"},{"default":d((()=>[o($,{content:v("empName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"身份证号"},{"default":d((()=>[o($,{content:v("empIdcardNo")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"岗位"},{"default":d((()=>[o($,{content:v("post")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"投保类型"},{"default":d((()=>[o($,{content:y("buyType","buyType")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保险公司"},{"default":d((()=>[o($,{content:v("insuranceCompanyName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"险种"},{"default":d((()=>[o($,{content:v("insuranceTypeName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"购买标准（元）","class":"cn_"},{"default":d((()=>[o($,{content:v("buyStandard")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"身故或残疾（万元）","class":"cn_"},{"default":d((()=>[o($,{content:v("dieDisableQuota")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"医疗额度（万元）","class":"cn_"},{"default":d((()=>[o($,{content:v("medicalQuota")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"计费方式"},{"default":d((()=>[o($,{content:y("billingType","billType")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"购买周期"},{"default":d((()=>[o($,{content:v("buyCycle")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"险种费率"},{"default":d((()=>[o($,{content:v("rate")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保单号"},{"default":d((()=>[o($,{content:v("policyNo")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"发票号"},{"default":d((()=>[o($,{content:v("invoiceNo")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保单开始日期"},{"default":d((()=>[o($,{content:v("policyStart")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保单结束日期"},{"default":d((()=>[o($,{content:v("policyEnd")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"保单生效日期"},{"default":d((()=>[o($,{content:v("policyEffect")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"商险购买地"},{"default":d((()=>[o($,{content:v(["insuranceProvinceName","insuranceCityName"])},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"商险办理地"},{"default":d((()=>[o($,{content:v(["insuranceHandleProvinceName","insuranceHandleCityName"])},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"预估保费（元）","class":"cn_"},{"default":d((()=>[o($,{content:v("estimatePremium")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"实际保费（元）","class":"cn_"},{"default":d((()=>[o($,{content:v("actualPremium")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"项目名称"},{"default":d((()=>[o($,{content:v("projectName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"项目编码"},{"default":d((()=>[o($,{content:v("deptNo")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"封面抬头"},{"default":d((()=>[o($,{content:v("invoiceTitle")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"结算方式"},{"default":d((()=>[o($,{content:y("settleType","settleType")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"结算月份"},{"default":d((()=>[o($,{content:v("settleMonth")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"实缴结算状态"},{"default":d((()=>[o($,{content:v("actualSettleStatus")},null,8,["content"])])),_:1})])),_:1}),0==a.info.settleType?(s(),b(f,{key:0,span:8},{"default":d((()=>[o(l,{label:"预估结算状态"},{"default":d((()=>[o($,{content:v("estimateSettleStatus")},null,8,["content"])])),_:1})])),_:1})):m("",!0),o(f,{span:8},{"default":d((()=>[o(l,{label:"费用类型"},{"default":d((()=>[o($,{content:y("premiumType","premiumType")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"投保状态"},{"default":d((()=>[o($,{content:y("buyHandleStatus","buyHandleStatus")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:24},{"default":d((()=>[o(l,{label:"备注"},{"default":d((()=>[o($,{content:v("remark")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:24},{"default":d((()=>[o(l,{label:"附件"},{"default":d((()=>[i(p(v("enclosure")),1)])),_:1})])),_:1})])),_:1}),4==a.info.distributeType||a.info.coverEmpName&&a.info.coverEmpIdcardNo?(s(),b(N,{key:0},{"default":d((()=>[o(f,{span:8},{"default":d((()=>[o(l,{label:"被替换人姓名"},{"default":d((()=>[o($,{content:v("coverEmpName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"被替换人身份证号"},{"default":d((()=>[o($,{content:v("coverEmpIdcardNo")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"被替换人所在项目"},{"default":d((()=>[o($,{content:v("coverProjectName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"被替换人封面抬头"},{"default":d((()=>[o($,{content:v("coverInvoiceTitle")},null,8,["content"])])),_:1})])),_:1})])),_:1})):m("",!0),5==a.info.distributeType?(s(),b(N,{key:1},{"default":d((()=>[o(f,{span:8},{"default":d((()=>[o(l,{label:"退费金额（元）","class":"cn_"},{"default":d((()=>[o($,{content:v("surrender")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"退费结算状态"},{"default":d((()=>[o($,{content:v("surrenderSettleStatus")},null,8,["content"])])),_:1})])),_:1})])),_:1})):m("",!0),a.info.replaceEmpName&&a.info.replaceEmpIdcardNo?(s(),b(N,{key:2},{"default":d((()=>[o(f,{span:24},{"default":d((()=>[o(S,{"content-position":"left"},{"default":d((()=>[A])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"姓名"},{"default":d((()=>[o($,{content:v("replaceEmpName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"身份证号"},{"default":d((()=>[o($,{content:v("replaceEmpIdcardNo")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"所在项目"},{"default":d((()=>[o($,{content:v("replaceProjectName")},null,8,["content"])])),_:1})])),_:1}),o(f,{span:8},{"default":d((()=>[o(l,{label:"封面抬头"},{"default":d((()=>[o($,{content:v("replaceInvoiceTitle")},null,8,["content"])])),_:1})])),_:1})])),_:1})):m("",!0),o(N,{gutter:0},{"default":d((()=>[a.changeHistoryList?(s(),b(f,{key:0,span:24},{"default":d((()=>[D,o(w,{data:a.changeHistoryList,style:{width:"100%"},"header-cell-style":{"background-color":"#f7f9fc",color:"#313840"}},{"default":d((()=>[o(E,{prop:"createName",label:"操作人",width:"150"}),o(E,{prop:"createTime",label:"操作时间",width:"220"}),o(E,{label:"操作内容",width:"480"},{"default":d((e=>[r("div",{innerHTML:n(e.row)||"--"},null,8,M)])),_:1}),o(E,{prop:"remark",label:"变更原因"})])),_:1},8,["data"])])),_:1})):m("",!0)])),_:1})])),_:1})),[[K,a.loading]])]),_((s(),c("div",Q,[U,a.activities&&a.activities.length?(s(),b(P,{key:0},{"default":d((()=>[(s(!0),c(g,null,h(a.activities,(e=>(s(),b(I,{key:e.id,icon:k(j),color:"#58bd7d"},{"default":d((()=>[r("h4",W,p(e.operateDesc),1),e.createName?(s(),c("p",z,[J,r("span",F,p(e.createName),1)])):m("",!0),e.createTime?(s(),c("p",R,[V,r("span",Z,p(e.createTime),1)])):m("",!0),e.remark?(s(),c("p",q,[B,r("span",G,p(e.remark),1)])):m("",!0)])),_:2},1032,["icon"])))),128))])),_:1})):a.activities&&0==a.activities.length?(s(),b(L,{key:1,description:"暂无流程信息"})):m("",!0)])),[[K,!a.activities]])])}}}),[["__scopeId","data-v-13d1e116"]]);export{X as default};