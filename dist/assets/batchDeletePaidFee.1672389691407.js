import{r as e}from"./fee.1672389691407.js";import{g as l}from"./socialfundSet.1672389691407.js";import{P as a}from"./index.16723896914073.js";import{E as o}from"./index.1672389691407.js";import{d as t,f as r,$ as d,O as s,P as u,a3 as n,o as m,a as i,W as c,U as f}from"./vue.1672389691407.js";const p={"class":"dialog-footer"},h=f("取 消"),g=f("确 定"),y=t({name:"batchDeletePaidFee"}),V=Object.assign(y,{emits:["ok"],setup(t,{expose:f,emit:y}){const V=r(null);r(null),r(null);const F=d({isShowDialog:!1,loading:!1,ruleForm:{},data:null,ext:{}}),M=async e=>{try{const a=await l(e);if(a&&200==a.code&&a.data)return{current:a.data.current,total:a.data.total,data:a.data.records};o.error(a.msg)}catch(a){}return{current:1,total:0,data:[]}},Y=e=>{},_=()=>{const{empIdCard:l,socialHouseId:a,fundHouseId:t,socialCreateMonth:r,socialPayMonth:d}=F.ruleForm;l||a||t||r||d?(F.loading=!0,e(F.ruleForm).then((e=>{e&&200==e.code?(o.success(e.msg||"批量删除成功"),y("ok"),b()):o.error(e.msg||"批量删除出错")}),(e=>{o.error(e&&e.msg||"批量删除出错")}))["finally"]((()=>{F.loading=!1}))):o.warning("请输入或选择至少一个筛选项")},b=()=>{V.value&&V.value.clearValidate(),F.isShowDialog=!1,F.loading=!1,F.ruleForm={}};return f({openDialog:async e=>{F.data=e,F.isShowDialog=!0}}),(e,l)=>{const o=n("el-form-item"),t=n("el-col"),r=n("el-input"),d=n("el-date-picker"),f=n("el-row"),y=n("el-form"),w=n("el-button"),C=n("el-dialog");return m(),s(C,{title:"批量删除",modelValue:F.isShowDialog,"onUpdate:modelValue":l[5]||(l[5]=e=>F.isShowDialog=e),width:"576px",onClose:b,"close-on-click-modal":!1},{footer:u((()=>[i("span",p,[c(w,{onClick:b,size:"default"},{"default":u((()=>[h])),_:1}),c(w,{type:"primary",onClick:_,loading:F.loading,size:"default"},{"default":u((()=>[g])),_:1},8,["loading"])])])),"default":u((()=>[c(y,{ref_key:"formRef",ref:V,model:F.ruleForm,size:"default","label-width":"110px"},{"default":u((()=>[c(f,null,{"default":u((()=>[c(t,{"class":"mb20"},{"default":u((()=>[c(o,{label:"社保户",prop:"socialHouseId"},{"default":u((()=>[c(a,{ref:"pageSelectRef",modelValue:F.ruleForm.socialHouseId,"onUpdate:modelValue":l[0]||(l[0]=e=>F.ruleForm.socialHouseId=e),request:M,ext:{type:0,delFlag:0},"value-key":"id",title:"name",search:"name",placeholder:"请选择或输入社保户",onChange:Y},null,8,["modelValue"])])),_:1})])),_:1}),c(t,{"class":"mb20"},{"default":u((()=>[c(o,{label:"公积金户",prop:"fundHouseId"},{"default":u((()=>[c(a,{ref:"pageSelectRef",modelValue:F.ruleForm.fundHouseId,"onUpdate:modelValue":l[1]||(l[1]=e=>F.ruleForm.fundHouseId=e),request:M,"value-key":"id",title:"name",search:"name",ext:{type:1,delFlag:0},placeholder:"请选择或输入公积金户",options:F.options,onChange:Y},null,8,["modelValue","options"])])),_:1})])),_:1}),c(t,{"class":"mb20"},{"default":u((()=>[c(o,{label:"身份证号",prop:"empIdCard"},{"default":u((()=>[c(r,{style:{width:"100%"},maxlength:"18",placeholder:"请输入",modelValue:F.ruleForm.empIdCard,"onUpdate:modelValue":l[2]||(l[2]=e=>F.ruleForm.empIdCard=e),modelModifiers:{trim:!0}},null,8,["modelValue"])])),_:1})])),_:1}),c(t,{"class":"mb20"},{"default":u((()=>[c(o,{label:"生成月份",prop:"socialCreateMonth"},{"default":u((()=>[c(d,{style:{width:"100%"},placeholder:"请选择",modelValue:F.ruleForm.socialCreateMonth,"onUpdate:modelValue":l[3]||(l[3]=e=>F.ruleForm.socialCreateMonth=e),"value-format":"YYYYMM",format:"YYYY年MM月",type:"month"},null,8,["modelValue"])])),_:1})])),_:1}),c(t,{"class":"mb20"},{"default":u((()=>[c(o,{label:"缴纳月份",prop:"socialPayMonth"},{"default":u((()=>[c(d,{style:{width:"100%"},placeholder:"请选择",modelValue:F.ruleForm.socialPayMonth,"onUpdate:modelValue":l[4]||(l[4]=e=>F.ruleForm.socialPayMonth=e),"value-format":"YYYYMM",format:"YYYY年MM月",type:"month"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])}}});export{V as default};