import{s as e,_ as l,E as a}from"./index.1672389691407.js";import{d as o,f as r,$ as t,h as s,c as u,W as i,P as d,a3 as n,o as c,a as m,U as f}from"./vue.1672389691407.js";async function p(l){return e({url:"/yifu-salary/method/tstatisticsdeclarer/page",method:"GET",params:l})}async function g(l){return e({url:"/yifu-salary/method/tstatisticsdeclarer/export",method:"POST",responseType:"blob",data:l})}const h={"class":"archives-add-electronic-container"},_=f("是"),y=f("否"),v={"class":"dialog-footer"},b=f("取 消"),D=f("确 定"),F=o({name:"batchDelete"});var V=l(Object.assign(F,{emits:["ok"],setup(l,{expose:o,emit:f}){const p=r(null),g=r(!1),F=t({isShowDialog:!1,id:null,title:"批量删除",ruleForm:{undeclareReason:null,isDeclare:"0",id:null},fileList:[],literatureTypesDataSource:{},options:[]});s((()=>F.ruleForm.isDeclare),(e=>{p.value&&p.value.clearValidate(),F.ruleForm.undeclareReason=null}),{immediate:!0});const V={isDeclare:[{required:!0,message:"请选择是否申报"}]},w=()=>{F.ruleForm={},F.isShowDialog=!1,p.value&&p.value.clearValidate()},S=()=>{w()},x=()=>{p.value&&p.value.validate((l=>{l&&(g.value=!0,async function(l){return e({url:"/yifu-salary/method/tstatisticsdeclarer/updateFlagById",method:"POST",params:l})}(F.ruleForm).then((e=>{e&&200==e.code?(f("ok"),w(),a.success("保存成功")):a.error(e.msg||"删除失败")}),(()=>{a.error("删除失败")}))["finally"]((e=>{g.value=!1})))}))};return o({openDialog:async e=>{F.title="删除",F.ruleForm={undeclareReason:null,isDeclare:"0",id:e.id},setTimeout((()=>{p.value&&p.value.clearValidate()}),100),F.isShowDialog=!0}}),(e,l)=>{const a=n("el-radio"),o=n("el-radio-group"),r=n("el-form-item"),t=n("el-col"),s=n("el-input"),f=n("el-row"),R=n("el-form"),T=n("el-button"),k=n("el-dialog");return c(),u("div",h,[i(k,{title:F.title,modelValue:F.isShowDialog,"onUpdate:modelValue":l[2]||(l[2]=e=>F.isShowDialog=e),"close-on-click-modal":!1,width:"576px",onClose:w},{footer:d((()=>[m("span",v,[i(T,{onClick:S,size:"default"},{"default":d((()=>[b])),_:1}),i(T,{type:"primary",onClick:x,loading:g.value,size:"default"},{"default":d((()=>[D])),_:1},8,["loading"])])])),"default":d((()=>[i(R,{ref_key:"formRef",ref:p,model:F.ruleForm,rules:V,size:"default","label-width":"140px"},{"default":d((()=>[i(f,null,{"default":d((()=>[i(t,{"class":"mb20"},{"default":d((()=>[i(r,{label:"本期是否申报",prop:"isDeclare"},{"default":d((()=>[i(o,{modelValue:F.ruleForm.isDeclare,"onUpdate:modelValue":l[0]||(l[0]=e=>F.ruleForm.isDeclare=e)},{"default":d((()=>[i(a,{label:"0"},{"default":d((()=>[_])),_:1}),i(a,{label:"1"},{"default":d((()=>[y])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(t,{"class":"mb20"},{"default":d((()=>[i(r,{label:"不申报原因",prop:"undeclareReason",rules:{required:1==F.ruleForm.isDeclare,message:"请输入不申报原因"}},{"default":d((()=>[i(s,{modelValue:F.ruleForm.undeclareReason,"onUpdate:modelValue":l[1]||(l[1]=e=>F.ruleForm.undeclareReason=e),placeholder:"请输入","show-word-limit":"",maxlength:"200"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}}}),[["__scopeId","data-v-6232e0f0"]]),w=Object.freeze(Object.defineProperty({__proto__:null,"default":V},Symbol.toStringTag,{value:"Module"}));export{g as a,V as b,w as c,p as g};