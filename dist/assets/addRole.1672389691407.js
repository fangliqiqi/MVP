import{u as e,a as l}from"./role.1672389691407.js";import{_ as o,E as a}from"./index.1672389691407.js";import{d as r,f as s,$ as t,c as d,W as m,P as u,a3 as i,o as n,a as g,U as c}from"./vue.1672389691407.js";const f={"class":"system-add-role-container"},p={"class":"dialog-footer"},x=c("取 消"),h=c("确 定"),F=r({name:"systemAddRole"});var b=o(Object.assign(F,{emits:["ok"],setup(o,{expose:r,emit:c}){const F=s(null),b=t({isShowDialog:!1,title:"新增角色",ruleForm:{roleName:"",roleCode:"",roleDesc:"",createTime:""}}),_=t({roleName:[{required:!0,message:"请输入角色名称",trigger:"blur"},{max:64,message:"长度在64个字符以内",trigger:"blur"}],roleCode:[{required:!0,message:"请输入角色标识",trigger:"blur"},{max:64,message:"长度在64个字符以内",trigger:"blur"}],roleDesc:[{max:255,message:"长度在 255个字符以内",trigger:"blur"}]}),w=()=>{b.isShowDialog=!1,b.ruleForm={},F.value.resetFields()},V=()=>{w()},v=s(!1),D=()=>{F.value.validate((o=>{o&&(v.value=!0,b.ruleForm.roleId?e(b.ruleForm).then((e=>{200===e.code?(a.success("角色编辑成功"),w(),c("ok")):a.error(e.msg)}))["catch"]((()=>{a.error("角色编辑失败")}))["finally"]((()=>{v.value=!1})):l(b.ruleForm).then((e=>{200===e.code?(a.success("角色新增成功"),w(),c("ok")):a.error(e.msg)}))["catch"]((()=>{a.error("角色新增失败")}))["finally"]((()=>{v.value=!1})))}))};return r({openDialog:e=>{b.isShowDialog=!0,b.ruleForm=e||{},b.title=e?"编辑角色":"新增角色"}}),(e,l)=>{const o=i("el-input"),a=i("el-form-item"),r=i("el-col"),s=i("el-row"),t=i("el-form"),c=i("el-button"),w=i("el-dialog");return n(),d("div",f,[m(w,{title:b.title,modelValue:b.isShowDialog,"onUpdate:modelValue":l[3]||(l[3]=e=>b.isShowDialog=e),width:"760px","destroy-on-close":"",onClose:V},{footer:u((()=>[g("span",p,[m(c,{onClick:V,size:"default"},{"default":u((()=>[x])),_:1}),m(c,{type:"primary",onClick:D,loading:v.value,size:"default"},{"default":u((()=>[h])),_:1},8,["loading"])])])),"default":u((()=>[m(t,{model:b.ruleForm,ref_key:"ruleForm",ref:F,rules:_,size:"default","label-width":"90px"},{"default":u((()=>[m(s,{gutter:35},{"default":u((()=>[m(r,{xs:24,sm:12,md:12,lg:12,xl:24},{"default":u((()=>[m(a,{label:"角色名称",prop:"roleName"},{"default":u((()=>[m(o,{modelValue:b.ruleForm.roleName,"onUpdate:modelValue":l[0]||(l[0]=e=>b.ruleForm.roleName=e),placeholder:"请输入角色名称",maxlength:"64",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),m(r,{xs:24,sm:12,md:12,lg:12,xl:24},{"default":u((()=>[m(a,{label:"角色标识",prop:"roleCode"},{"default":u((()=>[m(o,{modelValue:b.ruleForm.roleCode,"onUpdate:modelValue":l[1]||(l[1]=e=>b.ruleForm.roleCode=e),disabled:!!b.ruleForm.roleId,maxlength:"64",placeholder:"请输入角色标识",clearable:""},null,8,["modelValue","disabled"])])),_:1})])),_:1}),m(r,{xs:24,sm:24,md:24,lg:24,xl:24},{"default":u((()=>[m(a,{label:"角色描述",prop:"roleDesc"},{"default":u((()=>[m(o,{modelValue:b.ruleForm.roleDesc,"onUpdate:modelValue":l[2]||(l[2]=e=>b.ruleForm.roleDesc=e),type:"textarea","show-word-limit":"",autosize:{minRows:2,maxRows:6},maxlength:"255",placeholder:"请输入角色描述"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["title","modelValue"])])}}}),[["__scopeId","data-v-22afad23"]]);export{b as default};