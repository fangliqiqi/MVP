import{d as t,f as a,$ as e,E as o,j as s,c as n,W as r,P as i,aA as l,o as d,i as c}from"./vue.1672389691407.js";import{P as p}from"./ProTable.1672389691407.js";import{P as m}from"./index.16723896914072.js";import u from"./addMinSalaryConf.1672389691407.js";import{b as f,d as y}from"./settings.1672389691407.js";import{i as h}from"./city.1672389691407.js";import{W as x,a as w,E as v}from"./index.1672389691407.js";import{o as g,a as b}from"./events.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";const j={"class":"cardinal-config-container"},k=t({name:"最低工资标准"}),_=Object.assign(k,{setup(t){const k=a(null),_=l(),S=a(null),{proxy:T}=c(),B=()=>{k.value&&k.value.onSearch()},C=async(t,a)=>{switch(t){case"edit":S.value&&S.value.openDialog(a);break;case"delete":I(a)}},I=t=>{w.confirm('<p style="font-size:16px;font-weight:600">是否确定删除?<br/>\n\t\t\t\t<span style="color:red;font-size:14px;font-weight:400">删除后，配置将从系统消失，请谨慎操作！</span></p>',{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((async()=>{try{const a=await y(t.id);a&&200===a.code?(v.success("删除成功"),B()):v.error(a.msg||"删除失败")}catch(a){v.error("删除失败")}}))["catch"]((()=>{}))},W=e({searchConfig:{labelWidth:90},columns:[{dataIndex:"address",valueType:"addRess",title:"所在地",minWidth:220,params:{pro:"province",city:"city",town:"town"},tooltip:!0,fixed:"left",formatter:t=>h({province:t.province,city:t.city,town:t.town})},{dataIndex:"salaryBase",title:"最低工资（元）",minWidth:180,ellipsis:!0,formatter:t=>x(t.salaryBase)},{dataIndex:"status",title:"状态",minWidth:160,valueEnum:{1:"启用",2:"停用"}},{dataIndex:"option",title:"操作",key:"option",width:240,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}],btn:[{label:"新增",onClick:()=>{S.value&&S.value.openDialog()},permission:["wxhr:tminsalary_add"],icon:"icon-ic_edit_add"}],cellBtns:[{text:"编辑",permission:["wxhr:tminsalary_edit"],prop:"edit"},{text:"删除",permission:["wxhr:tminsalary_del"],prop:"delete"}],dictKeys:[],DICTS:{}});o((()=>{g(T)})),s((()=>{b(T,_.path,(()=>{B()}))}));const P=async t=>{try{const a=await f(t);if(a&&200==a.code&&a.data)return{current:a.data.current,total:a.data.total,data:a.data.records}}catch(a){}return{current:1,total:0,data:[]}};return(t,a)=>(d(),n("div",j,[r(p,{ref_key:"proTableRef",ref:k,"row-key":"id",columns:W.columns,request:P,btn:W.btn,showHeader:!1},{option:i((t=>[r(m,{array:W.cellBtns,model:t,onOnClick:C},null,8,["array","model"])])),_:1},8,["columns","btn"]),r(u,{ref_key:"addMinSalaryConfRef",ref:S,onOk:B},null,512)]))}});export{_ as default};