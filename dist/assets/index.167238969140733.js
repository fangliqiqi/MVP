import{e}from"./company.1672389691407.js";import{P as a}from"./ProTable.1672389691407.js";import{P as t}from"./index.16723896914072.js";import n from"./downshiftDialog.16723896914074.js";import o from"./insuranceDetail.16723896914072.js";import i from"./editInsuranceDialog.1672389691407.js";import l from"./InsureCompanySelect.1672389691407.js";import r from"./InsuranceTypeSelect.1672389691407.js";import{_ as s,f as d}from"./index.1672389691407.js";import{f as c,$ as m,a2 as u,c as p,W as f,P as h,a3 as y,o as g}from"./vue.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";const D={"class":"archives-online-container"};var x=s({name:"险种",components:{ProTable:a,ProButtons:t,ArrowDown:d,downshiftDialog:n,insuranceDetailDialog:o,editInsuranceDialog:i,CompanySelect:l,TypeSelect:r},setup(){const a=c(null),t=c(null),n=c(null),o=c(null),i=m({nameList:[],searchConfig:{labelWidth:100,option:{extBtn:"extBtns"}},columns:[{dataIndex:"name",title:"险种",minWidth:140,tooltip:!0,fixed:"left"},{dataIndex:"insuranceCompanyName",title:"保险公司",minWidth:200,hideInSearch:!0},{dataIndex:"insuranceCompanyName",title:"保险公司",hideInTable:!0,valueType:"custom",scopedSlots:{customRender:"CompanySelect"}},{dataIndex:"bankName",title:"收款银行",hideInSearch:!0,minWidth:200},{dataIndex:"bankNo",title:"收款银行账号",hideInSearch:!0,minWidth:200},{dataIndex:"receiptUnitName",title:"收款单位",hideInSearch:!0,minWidth:200,tooltip:!0},{dataIndex:"option",title:"操作",key:"option",width:220,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}],btn:[{label:"新增险种",onClick:()=>{t.value&&t.value.openDialog()},type:"default",permission:["insuranceType_add"],icon:"icon-ic_edit_add"}],cellBtns:[{text:"编辑",prop:"edit"},{text:"查看",prop:"detail"},{text:"购买标准",prop:"standard"},{text:"费率",prop:"rate"}],params:{}});return{...u(i),request:async a=>{try{const t=Object.assign({},a,i.params);delete t.fileAddress;const n=await e(t);if(n&&200==n.code&&n.data)return{current:n.data.current,total:n.data.total,data:n.data.records}}catch(t){}return{current:1,total:0,data:[]}},onCellClick:async(e,a)=>{switch(e){case"edit":(e=>{t.value&&t.value.editDialog(e)})(a);break;case"rate":((e,a)=>{o.value&&o.value.openDialog(e.id,a)})(a,"rate");break;case"detail":(e=>{n.value&&n.value.openDialog(e.id)})(a);break;case"standard":((e,a)=>{o.value&&o.value.openDialog(e.id,a)})(a,"standard")}},proTableRef:a,downshiftDialog:t,refreshList:()=>{a.value&&a.value.refresh()},onReset:()=>{i.params={}},insuranceDetailDialog:n,editInsuranceDialog:o}}},[["render",function(e,a,t,n,o,i){const l=y("pro-buttons"),r=y("company-select"),s=y("type-select"),d=y("pro-table"),c=y("downshift-dialog"),m=y("insurance-detail-dialog"),u=y("edit-insurance-dialog");return g(),p("div",D,[f(d,{ref:"proTableRef","row-key":"id",columns:e.columns,request:n.request,btn:e.btn,searchConfig:e.searchConfig,onOnReset:n.onReset},{option:h((a=>[f(l,{array:e.cellBtns,model:a,onOnClick:n.onCellClick},null,8,["array","model","onOnClick"])])),CompanySelect:h((()=>[f(r,{modelValue:e.params.insuranceCompanyName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.params.insuranceCompanyName=a),style:{width:"100%"}},null,8,["modelValue"])])),NameSelect:h((()=>[f(s,{modelValue:e.params.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.params.name=a),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["columns","request","btn","searchConfig","onOnReset"]),f(c,{ref:"downshiftDialog",onOk:n.refreshList},null,8,["onOk"]),f(m,{ref:"insuranceDetailDialog"},null,512),f(u,{ref:"editInsuranceDialog"},null,512)])}]]);export{x as default};