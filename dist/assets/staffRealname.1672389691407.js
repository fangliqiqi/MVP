import{P as t}from"./ProTable.1672389691407.js";import{m as a,o as e}from"./eleContract.16723896914072.js";import{P as s}from"./index.16723896914072.js";import{g as n,a as r,E as i}from"./index.1672389691407.js";import{b as o,C as c}from"./dicts.1672389691407.js";import{d as l,f as u,j as d,$ as m,c as p,W as f,P as h,o as y}from"./vue.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";const x={"class":"contract-apply-container"},S=l({name:"员工实名"}),j=Object.assign(S,{setup(l){const S=u(null);d((()=>{j()}));const j=async()=>{try{const t=await n(E.dictKeys);t&&(E.DICTS=t,E.columns=E.columns.map((a=>{const e={...a};switch(a.dataIndex){case"empNatrue":e.valueEnum=t.emp_natrue;break;case"fileSource":e.valueEnum=t.EMP_SOURCE;break;case"socialStatus":e.valueEnum=t.social_ecurity_state;break;case"insuranceStatus":e.valueEnum=t.commercial_satte;break;case"fundStatus":e.valueEnum=t.fund_status;break;case"contractStatus":e.valueEnum=t.personnel_state}return e})))}catch(t){}},v=async t=>{try{const e=await a(Object.assign({},t,{systemFlag:1}));if(e&&200==e.code&&e.data)return{current:e.data.current,total:e.data.total,data:e.data.records}}catch(e){}return{current:1,total:0,data:[]}},b=async(t,a)=>{"audit"===t&&r.confirm("确定发送实名邀请","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{e({id:a.id}).then((t=>{t&&200===t.code?(i.success("发送成功"),S.value&&S.value.refresh()):i.error(t.msg||"发送失败")}),(t=>{i.error(t&&t.msg||"发送失败")}))}))},E=m({areaJson:null,params:{},cellBtns:[{text:"发送实名认证",prop:"audit",tooltip:"当前状态不可操作",isGray:t=>1==t.realStatus}],columns:[{dataIndex:"name",title:"员工姓名",minWidth:160,ellipsis:!0},{dataIndex:"idCard",title:"身份证号",minWidth:160,ellipsis:!0},{dataIndex:"moblie",title:"手机号码",minWidth:160,hideInSearch:!0},{dataIndex:"systemFlag",title:"用户类型",hideInSearch:!0,minWidth:120,valueEnum:o},{dataIndex:"realStatus",title:"实名状态",minWidth:140,valueEnum:c},{dataIndex:"option",title:"操作",key:"option",width:240,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}]});return(a,e)=>(y(),p("div",x,[f(t,{ref_key:"proTableRef",ref:S,"row-key":"id",columns:E.columns,request:v},{option:h((t=>[f(s,{array:E.cellBtns,model:t,onOnClick:b},null,8,["array","model"])])),_:1},8,["columns"])]))}});export{j as default};