import{l as e,a,g as l}from"./city.1672389691407.js";import{f as t,$ as n,a2 as r,j as s,a3 as o,o as d,c as i,W as c,u}from"./vue.1672389691407.js";const p={__name:"index",props:{placeholder:{type:String,"default":"请选择"},areaProps:{type:Object,"default":()=>({label:"areaName",isLeaf:"isLeaf",children:"children",disabled:"disabled"})},hasTown:{type:Boolean,"default":!0},address:{type:Number,"default":null},disabled:{type:Boolean,"default":!1},checkStrictly:{type:Boolean,"default":!0}},emits:["current-change","clear"],setup(p,{expose:h,emit:f}){const m=p,y=t(null),b=n({areaJson:[],address:null}),{areaProps:g,address:v}=r(m),N=(e,a)=>{const l=[e.id],t=[e.areaName];a.parent&&0!=a.parent.level&&(l.unshift(a.parent.data.id),t.unshift(a.parent.data.areaName),a.parent.parent&&0!=a.parent.parent.level&&(l.unshift(a.parent.parent.data.id),t.unshift(a.parent.parent.data.areaName)));const n={pro:null,city:null,town:null};n.pro=l[0]||null,n.proName=t[0]||null,l.length>1&&(n.city=l[1]||null),l.length>2&&(n.town=l[2]||null),t.length>1&&(n.cityName=t[1]||null),t.length>2&&(n.townName=t[2]||null),f("current-change",n,e.label)},w=()=>{j(),f("clear",{pro:null,city:null,town:null})},k=(a,l)=>{const t=a.level,n=a.isLeaf;if(0!==t)return l(n?[]:e(a.data.id));l(e(0));return l([])};b.areaJson;const J=e=>{e||j()},j=()=>{if(!m.hasTown){const e=a();return void(b.areaJson=e)}const e=l();b.areaJson=e};return s((()=>{j()})),h({initParams:j}),(e,a)=>{const l=o("el-tree-select");return d(),i("div",null,[c(l,{"model-value":u(v),ref_key:"treeSelect",ref:y,style:{width:"100%"},placeholder:"请选择",props:u(g),data:b.areaJson,disabled:m.disabled,onCurrentChange:N,onClear:w,"node-key":"id",load:k,"check-strictly":m.checkStrictly,clearable:"",filterable:"","filter-method":J},null,8,["model-value","props","data","disabled","check-strictly"])])}}};export{p as _};