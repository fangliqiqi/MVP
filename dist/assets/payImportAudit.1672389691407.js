import{P as t}from"./ProTable.1672389691407.js";import{P as a}from"./index.16723896914072.js";import e from"./showAuditInfo.1672389691407.js";import i from"./auditPay.1672389691407.js";import{_ as n,g as s}from"./index.1672389691407.js";import{d as o,f as d,$ as r,a2 as l,j as m,E as c,c as p,W as u,P as h,u as f,aD as y,aA as x,o as I,i as v}from"./vue.1672389691407.js";import{o as j,a as W}from"./events.1672389691407.js";import{h as _}from"./payimport.16723896914072.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";import"./file.1672389691407.js";const b={"class":"system-dict-container"},g=o({name:"薪酬导入审核"});var T=n(Object.assign(g,{setup(n){const o=d(null),g=d(null),T=d(null),S=y(),Y=x(),{proxy:k}=v(),P=r({searchConfig:{labelWidth:110,option:{extBtn:"extBtns"}},columns:[{dataIndex:"status",title:"审核状态",hideInSearch:!0,minWidth:160,valueEnum:{1:"待审核",2:"审核通过",5:"审核不通过"}},{dataIndex:"deptName",title:"项目名称",minWidth:200,tooltip:!0},{dataIndex:"deptNo",title:"项目编码",minWidth:160},{dataIndex:"applyNo",title:"申请编码",minWidth:160},{dataIndex:"status",title:"审核状态",hideInTable:!0,minWidth:160,valueEnum:{1:"待审核",2:"审核通过",5:"审核不通过"}},{dataIndex:"settlementAmount",title:"项目金额",minWidth:160,hideInSearch:!0},{dataIndex:"invoiceTitle",title:"封面抬头",hideInSearch:!0,minWidth:200,tooltip:!0},{dataIndex:"salaryMonth",title:"薪酬月份",minWidth:160,valueType:"date",selectType:"month",valueFormat:"YYYYMM",format:"YYYYMM"},{dataIndex:"formType",title:"表单类型",minWidth:160,hideInSearch:!0},{dataIndex:"createTime",title:"创建时间",minWidth:180,hideInSearch:!0},{dataIndex:"createName",title:"创建人",minWidth:180,hideInSearch:!0},{dataIndex:"option",title:"操作",key:"option",minWidth:180,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}],btn:[],cellBtns:[{text:"详情",prop:"detail",permission:[]},{text:"审核",prop:"audit",permission:[],isGray:t=>1!==t.status}],selectOptions:[],params:{},dictKeys:["form_type","salary_status"]}),{columns:w,cellBtns:A,btn:C,searchConfig:M}=l(P),B=async t=>{try{const a=await _(t);if(a&&200==a.code&&a.data)return{current:a.data.current,total:a.data.total,data:a.data.records.map(((a,e)=>({...a,index:(t.current-1)*t.size+e+1})))}}catch(a){}return{current:1,total:0,data:[]}},E=()=>{o.value.refresh()},N=async(t,a)=>{"detail"===t?S.push({name:"payservice-audit-detail",params:{id:a.id}}):"audit"==t&&g.value&&g.value.openDialog(a)},O=t=>{T.value&&T.value.openDialog(t)};return m((()=>{(async()=>{try{const t=await s(P.dictKeys);t&&P.columns.map((a=>("formType"===a.dataIndex&&(a.valueEnum=t.form_type),a)))}catch(t){}})(),W(k,Y.path,(()=>{E()}))})),c((()=>{j(k)})),(n,s)=>(I(),p("div",b,[u(t,{ref_key:"proTableRef",ref:o,"row-key":"id",columns:f(w),request:B,btn:f(C),searchConfig:f(M)},{option:h((t=>[u(a,{array:f(A),model:t,onOnClick:N},null,8,["array","model"])])),_:1},8,["columns","btn","searchConfig"]),u(e,{ref_key:"showAuditInfoRef",ref:g,onAudit:O},null,512),u(i,{ref_key:"auditPayRef",ref:T,onOk:E},null,512)]))}}),[["__scopeId","data-v-6cf05d8f"]]);export{T as default};