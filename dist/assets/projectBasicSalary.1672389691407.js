import{d as t,f as a,$ as e,E as n,j as i,c as o,W as r,P as s,aD as d,aA as l,o as c,i as m}from"./vue.1672389691407.js";import{P as h}from"./ProTable.1672389691407.js";import{P as p}from"./index.16723896914072.js";import u from"./addSalaryBasicConf.1672389691407.js";import{f,h as x}from"./settings.1672389691407.js";import{o as y,a as g}from"./events.1672389691407.js";import{a as I,E as v}from"./index.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";import"./fee.1672389691407.js";const j={"class":"cardinal-config-container"},S=t({name:"项目基础配置"}),b=Object.assign(S,{setup(t){const S=a(null);d();const b=l(),w=a(null),{proxy:W}=m(),C=()=>{S.value&&S.value.onSearch()},k=async(t,a)=>{switch(t){case"edit":w.value&&w.value.openDialog(a);break;case"remove":E(a)}},E=t=>{I.confirm('<p style="font-size:16px;font-weight:600">是否确定删除?<br/>\n\t\t\t\t<span style="color:red;font-size:14px;font-weight:400">删除后，配置将从系统消失，请谨慎操作！</span></p>',{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((async()=>{try{const a=await x(t.id);a&&200===a.code?(v.success("删除成功"),C()):v.error(a.msg||"删除失败")}catch(a){v.error("删除失败")}}))["catch"]((()=>{}))},_=e({searchConfig:{labelWidth:90},columns:[{dataIndex:"name",title:"配置名称",minWidth:220,tooltip:!0,fixed:"left"},{dataIndex:"departName",title:"项目名称",minWidth:180,ellipsis:!0},{dataIndex:"departNo",title:"项目编码",minWidth:220,tooltip:!0},{dataIndex:"salaryMonth",title:"薪酬月份",minWidth:160,hideInSearch:!0,valueEnum:{"-6":"前6月","-5":"前5月","-4":"前4月","-3":"前3月","-2":"前2月","-1":"上月",0:"本月",1:"下月"}},{dataIndex:"socialMonth",title:"社保月份",minWidth:160,hideInSearch:!0,valueEnum:{"-6":"前6月","-5":"前5月","-4":"前4月","-3":"前3月","-2":"前2月","-1":"上月",0:"本月",1:"下月"}},{dataIndex:"fundMonth",title:"公积金月份",hideInSearch:!0,minWidth:160,valueEnum:{"-6":"前6月","-5":"前5月","-4":"前4月","-3":"前3月","-2":"前2月","-1":"上月",0:"本月",1:"下月"}},{dataIndex:"socialPriority",title:"社保优先级",hideInSearch:!0,minWidth:160,valueEnum:{0:"生成",1:"缴纳"}},{dataIndex:"fundPriority",title:"公积金优先级",hideInSearch:!0,minWidth:160,valueEnum:{0:"生成",1:"缴纳"}},{dataIndex:"grantType",title:"发放方式",minWidth:160,hideInSearch:!0,valueEnum:{0:"现金",1:"转账"}},{dataIndex:"option",title:"操作",key:"option",width:240,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}],btn:[{label:"新增配置",onClick:()=>{w.value&&w.value.openDialog()},permission:["wxhr:tconfigsalary_add"],icon:"icon-ic_edit_add"}],cellBtns:[{text:"编辑",permission:["wxhr:tconfigsalary_edit"],prop:"edit"},{text:"删除",permission:["wxhr:tconfigsalary_del"],prop:"remove"}],dictKeys:[],DICTS:{}});n((()=>{y(W)})),i((()=>{g(W,b.path,(()=>{C()}))}));const T=async t=>{try{const a=await f(t);if(a&&200==a.code&&a.data)return{current:a.data.current,total:a.data.total,data:a.data.records}}catch(a){}return{current:1,total:0,data:[]}};return(t,a)=>(c(),o("div",j,[r(h,{ref_key:"proTableRef",ref:S,"row-key":"id",columns:_.columns,request:T,btn:_.btn,searchConfig:_.searchConfig},{option:s((t=>[r(p,{array:_.cellBtns,model:t,onOnClick:k},null,8,["array","model"])])),_:1},8,["columns","btn","searchConfig"]),r(u,{ref_key:"addSalaryBasicConfigRef",ref:w,onOk:C},null,512)]))}});export{b as default};