import{c as e}from"./company.1672389691407.js";import{P as a}from"./ProTable.1672389691407.js";import{P as n}from"./index.16723896914072.js";import t from"./downshiftDialog.16723896914073.js";import{billType as o}from"./dict.1672389691407.js";import{_ as s}from"./index.167238969140713.js";import r from"./InsureCompanySelect.1672389691407.js";import{_ as i,f as l}from"./index.1672389691407.js";import{f as d,$ as c,a2 as m,c as p,W as u,P as h,a3 as y,o as f,a as C,V as g}from"./vue.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";const b={"class":"archives-online-container"},v={key:0},x={key:1};var S=i({name:"保险公司",components:{ProTable:a,ProButtons:n,ArrowDown:l,downshiftDialog:t,pageArea:s,CompanySelect:r},setup(){const a=d(null),n=d(null),t=()=>{a.value&&a.value.refresh()},s=()=>{a.value&&a.value.doSearch()},r=c({searchConfig:{labelWidth:110,option:{extBtn:"extBtns"}},columns:[{dataIndex:"companyName",title:"保险公司",minWidth:200,tooltip:!0,fixed:"left",hideInSearch:!0},{dataIndex:"companyName",title:"保险公司",hideInTable:!0,valueType:"custom",scopedSlots:{customRender:"CompanySelect"}},{dataIndex:"companyDocking",title:"对接人",hideInSearch:!0,minWidth:120},{dataIndex:"companyAddress",title:"保险公司地址",tooltip:!0,hideInSearch:!0,minWidth:200},{dataIndex:"companyHandlerAddress",title:"商险办理地",minWidth:200,hideInSearch:!0,valueType:"custom",scopedSlots:{customRender:"AreaAddress"}},{dataIndex:"companyHandlerAddress",title:"商险办理地",hideInTable:!0,valueType:"custom",scopedSlots:{customRender:"AreaSelect"}},{dataIndex:"billingType",title:"计费方式",hideInSearch:!0,minWidth:100,valueType:"custom",scopedSlots:{customRender:"billingType"}},{dataIndex:"option",title:"操作",key:"option",width:100,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}],btn:[{label:"新增保险公司",onClick:()=>{n.value&&n.value.openDialog()},type:"default",permission:["insurance_company_ad"],icon:"icon-ic_edit_add"}],cellBtns:[{text:"编辑",prop:"edit"}],params:{}});return{...m(r),request:async a=>{try{const n=Object.assign({},a,r.params);delete n.fileAddress;const t=await e(n);if(t&&200==t.code&&t.data)return{current:t.data.current,total:t.data.total,data:t.data.records}}catch(n){}return{current:1,total:0,data:[]}},onCellClick:async(e,a)=>{if("edit"===e)n.value&&n.value.editDialog(a)},proTableRef:a,downshiftDialog:n,onSearch:s,refreshList:t,fresh:e=>{e?s():t()},onReset:()=>{r.params={}},billType:o,changeAddress:e=>{e.city&&(r.params.insuranceHandleProvince=e.pro,r.params.insuranceHandleCity=e.city)},clearAddress:()=>{r.params.insuranceHandleProvince=null,r.params.insuranceHandleCity=null}}}},[["render",function(e,a,n,t,o,s){const r=y("pro-buttons"),i=y("company-select"),l=y("page-area"),d=y("pro-table"),c=y("downshift-dialog");return f(),p("div",b,[u(d,{ref:"proTableRef","row-key":"id",columns:e.columns,request:t.request,btn:e.btn,searchConfig:e.searchConfig,onOnReset:t.onReset},{billingType:h((e=>[C("div",null,g(t.billType[e.billingType]||"--"),1)])),option:h((a=>[u(r,{array:e.cellBtns,model:a,onOnClick:t.onCellClick},null,8,["array","model","onOnClick"])])),CompanySelect:h((()=>[u(i,{modelValue:e.params.companyName,"onUpdate:modelValue":a[0]||(a[0]=a=>e.params.companyName=a),style:{width:"100%"}},null,8,["modelValue"])])),AreaSelect:h((()=>[u(l,{address:e.params.insuranceHandleCity,onCurrentChange:t.changeAddress,onClear:t.clearAddress,style:{width:"100%"},"check-strictly":!1,"has-town":!1},null,8,["address","onCurrentChange","onClear"])])),AreaAddress:h((e=>[e.insuranceHandleProvinceName&&e.insuranceHandleCityName?(f(),p("span",v,g(e.insuranceHandleProvinceName)+"/"+g(e.insuranceHandleCityName),1)):(f(),p("span",x,"--"))])),_:1},8,["columns","request","btn","searchConfig","onOnReset"]),u(c,{ref:"downshiftDialog",onOk:t.fresh},null,8,["onOk"])])}]]);export{S as default};