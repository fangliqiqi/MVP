import{d as s,$ as e,h as t,j as a,a2 as o,a3 as n,o as l,c as i,F as r,a5 as d,a as p,V as c,_ as m,T as u,W as y,P as k,O as f,I as b,U as v}from"./vue.1672389691407.js";import{f as h,_ as w,i as x}from"./index.1672389691407.js";const B=s({name:"ProButtons",components:{ArrowDown:h},props:{array:{type:Array,"default":()=>[]},model:{type:Object,"default":null},limit:{type:Number,"default":4}},emits:["onClick"],setup(s,n){const l=e({data:[],showBtns:[],navBtns:[]});t((()=>s.array),((s,e)=>{i(s)})),t((()=>s.model),((e,t)=>{i(s.array)}));const i=e=>{let t=[];if((e=e.filter((e=>!e.isHide||!e.isHide(s.model))))&&e.length&&(t=e.filter((s=>{let e=!0;const t=s.permission;return t&&t.length&&(e=!!x.state.userInfos.permission.find((s=>!!t.find((e=>e===s))))),e}))),t.length>s.limit)return l.showBtns=t.slice(0,s.limit-1),void(l.navBtns=t.slice(s.limit-1,t.length));l.showBtns=t};a((()=>{i(s.array)}));return{...o(s),...o(l),onClick:e=>{n.emit("onClick",e.prop,s.model,e)}}}}),C={"class":"permisssion-btns"},_={key:0,style:{display:"inline-block"}},g={"class":"disabled"},j={key:1,style:{display:"inline-block"}},G=["onClick"],$={key:0,"class":"dropdown pro-btn"},P=v("更多"),A={key:0,"class":"disabled",style:{color:"var(--hro-color-text-disabeld)",display:"block"}},H=["onClick"];var I=w(B,[["render",function(s,e,t,a,o,v){n("arrow-down"),n("el-icon"),n("el-dropdown-item"),n("el-dropdown-menu"),n("el-dropdown");const h=n("el-menu-item"),w=n("el-sub-menu"),x=n("el-menu");return l(),i("div",C,[(l(!0),i(r,null,d(s.showBtns,((e,t)=>(l(),i("span",{key:`permission-key-${e.prop+t}`,"class":"pro-btn"},[e.isGray&&e.isGray(s.model,e.prop)?(l(),i("div",_,[p("a",g,c(e.text),1)])):(l(),i("div",j,[p("a",{onClick:m((t=>s.onClick(e)),["stop"])},c(e.text),9,G)]))])))),128)),s.navBtns&&s.navBtns.length?(l(),i("span",$,[u("",!0),y(x,{mode:"horizontal","class":"el-menu-demo more_ul","background-color":"transparent","active-text-color":"transparent"},{"default":k((()=>[y(w,{index:"1","popper-class":"more_sub"},{title:k((()=>[P])),"default":k((()=>[(l(!0),i(r,null,d(s.navBtns,((e,t)=>(l(),f(h,{index:`1-${t}`,key:e.prop},{"default":k((()=>[e.isGray&&e.isGray(s.model,e.prop)?(l(),i("a",A,c(e.text),1)):(l(),i("a",{key:1,onClick:m((t=>s.onClick(e)),["stop"]),style:{display:"block"}},c(e.text),9,H))])),_:2},1032,["index"])))),128))])),_:1})])),_:1})])):u("",!0),b(s.$slots,"default")])}]]);export{I as P};