import{P as e}from"./ProTable.1672389691407.js";import{P as a}from"./index.16723896914072.js";import{B as t}from"./index.16723896914077.js";import{b as l,g as o,a as n}from"./batchDelete.1672389691407.js";import{E as i}from"./index.16723896914076.js";import{f as r,$ as s,j as d,E as c,a2 as p,c as m,W as u,P as h,aD as f,aA as x,a3 as _,o as y,a as b,i as I,U as v,ay as g,az as E}from"./vue.1672389691407.js";import{o as D,a as j}from"./events.1672389691407.js";import{ae as R}from"./header.1672389691407.js";import{_ as w,f as P,E as k}from"./index.1672389691407.js";import"./index.16723896914073.js";import"./index.16723896914074.js";import"./city.1672389691407.js";import"./xlsx.1672389691407.js";import"./excel.1672389691407.js";import"./vuedraggable.umd.1672389691407.js";const C={name:"申报对象",components:{ProTable:e,ProButtons:a,ArrowDown:P,BatchImportDialog:t,batchDelete:l,ExportExcelDialog:i},setup(){const e=f(),a=x(),t=r(null),l=r(!1),i=r(null),m=r(null),{proxy:u}=I(),h=()=>{t.value&&t.value.onSearch()},_=s({searchConfig:{labelWidth:110,option:{extBtn:"extBtns"}},fn:null,columns:[{dataIndex:"declareUnit",title:"申报单位",hideInSearch:!1,minWidth:160,fixed:"left",tooltip:!0},{dataIndex:"declareMonth",title:"申报月份",valueType:"date",minWidth:160,selectType:"month",format:"YYYYMM",valueFormat:"YYYYMM"},{dataIndex:"empName",title:"姓名",minWidth:140,tooltip:!0},{dataIndex:"empIdcard",title:"身份证号",minWidth:200},{dataIndex:"empPhone",title:"手机号码",minWidth:160,hideInSearch:!0},{dataIndex:"empStatus",title:"人员状态",minWidth:160,hideInSearch:!0,hideInTable:!0,valueEnum:{0:"在职",1:"离职"}},{dataIndex:"occupationType",title:"任职受雇从业类型",hideInSearch:!0,minWidth:160,tooltip:!1,valueEnum:{0:"雇员",1:"其他"}},{dataIndex:"isDeclare",title:"本期是否申报",hideInSearch:!0,minWidth:160,tooltip:!0,valueEnum:{0:"是",1:"否"}},{dataIndex:"isZeroDeclare",title:"是否0申报人员",minWidth:160,valueEnum:{0:"是",1:"否"}},{dataIndex:"undeclareReason",title:"不申报原因",hideInSearch:!0,minWidth:160,tooltip:!0},{dataIndex:"option",title:"操作",key:"option",width:100,hideInSearch:!0,fixed:"right",scopedSlots:{customRender:"option"}}],btn:[{label:"导出",onClick:()=>{_.params=t.value.getParams(),delete _.params.size,delete _.params.current,l.value=!0,n(_.params).then((e=>{k.success("导出成功")}))["catch"]()["finally"]((()=>{l.value=!1}))},type:"default",loading:l,permission:["salary_tstatisticsdeclarer-export"],icon:"icon-ic_edit_export"},{label:"申报调整",type:"default",onClick:()=>{m.value&&m.value.openDialog()},permission:["salary_tstatisticsdeclarer-batch-delete"]}],cellBtns:[{text:"删除",prop:"delete",permission:["salary_tstatisticsdeclarer_del"],tooltip:"当前状态不可删除"}],DICTS:{},dictKeys:["emp_natrue","emp_married","emp_national","emp_political","emp_registype","education","EMP_SOURCE","social_ecurity_state","commercial_satte","personnel_state","fund_status"],params:{},areaProps:{label:"areaName",isLeaf:"isLeaf",children:"children"}});return d((()=>{j(u,a.path,(()=>{h()}))})),c((()=>{D(u)})),{...p(_),request:async e=>{try{const a=Object.assign({},e),t=await o(a);if(t&&200==t.code&&t.data)return{current:t.data.current,total:t.data.total,data:t.data.records}}catch(a){}return{current:1,total:0,data:[]}},onCellClick:async(a,t)=>{switch(a){case"detail":e.push({name:"decution-detail",params:{id:t.id}});break;case"delete":i.value&&i.value.openDialog(t)}},proTableRef:t,applyDeleteRef:i,refreshList:h,applyImportDialogRef:m,APPLY_DELETE_IMPORT_HEADER:R,onReset:()=>{_.params={}}}}},T=e=>(g("data-v-421be29c"),e=e(),E(),e),O={"class":"archives-online-container"},S={"class":"el-dropdown-link"},W=v(" 模板下载 "),L=T((()=>b("a",{href:"/template/申报对象批量删除模板.xls",download:""}," 申报对象批量删除模板",-1))),Y=T((()=>b("div",null,[
b("div",{style:{color:"red","font-size":"24px","text-align":"center",margin:"10px 0 25px"}},"批量导入失败！"),
b("span",null,[
v("存在不符合要求的数据，请修改后，重新导入！"),
b("br"),
v("已为您下载反馈结果！")])],-1)));var B=w(C,[["render",function(e,a,t,l,o,n){const i=_("arrow-down"),r=_("el-icon"),s=_("el-button"),d=_("el-dropdown-item"),c=_("el-dropdown-menu"),p=_("el-dropdown"),f=_("pro-buttons"),x=_("pro-table"),I=_("batch-import-dialog"),v=_("batch-delete");return y(),m("div",O,[u(x,{ref:"proTableRef","row-key":"id",columns:e.columns,request:l.request,btn:e.btn,multi:!1,searchConfig:e.searchConfig,onOnReset:l.onReset},{extBtns:h((()=>[u(p,{"class":"arch-btn","popper-class":"module-download"},{dropdown:h((()=>[u(c,null,{"default":h((()=>[u(d,null,{"default":h((()=>[L])),_:1})])),_:1})])),"default":h((()=>[b("span",S,[u(s,{size:"default"},{"default":h((()=>[W,u(r,{"class":"el-icon--right"},{"default":h((()=>[u(i)])),_:1})])),_:1})])])),_:1})])),option:h((a=>[u(f,{array:e.cellBtns,model:a,onOnClick:l.onCellClick},null,8,["array","model","onOnClick"])])),_:1},8,["columns","request","btn","searchConfig","onOnReset"]),u(I,{ref:"applyImportDialogRef",type:1,header:l.APPLY_DELETE_IMPORT_HEADER,url:"/yifu-salary/method//tstatisticsdeclarer/importListDelete",onOk:l.refreshList,download:"",title:"申报调整"},{error:h((()=>[Y])),_:1},8,["header","onOk"]),u(v,{ref:"applyDeleteRef",onOk:l.refreshList},null,8,["onOk"])])}],["__scopeId","data-v-421be29c"]]);export{B as default};