import{s as e,_ as a,E as l}from"./index.1672389691407.js";import{d as t,f as o,$ as r,c as s,W as u,P as i,a3 as d,o as n,a as c,U as m}from"./vue.1672389691407.js";async function f(a){return e({url:"/yifu-salary/method/tstatisticsbonus/page",method:"GET",params:a})}async function p(a){return e({url:"/yifu-salary/method/tstatisticsbonus/export",method:"POST",responseType:"blob",data:a})}async function h(a){return e({url:"/yifu-salary/method/tstatisticsbonus/"+a,method:"delete"})}const y={"class":"archives-add-electronic-container"},b={"class":"dialog-footer"},g=m("取 消"),v=m("确 定"),_=t({name:"allyearbonusreport"});var M=a(Object.assign(_,{emits:["ok"],setup(a,{expose:t,emit:m}){const f=o(null),p=r({isShowDialog:!1,id:null,title:"批量删除",ruleForm:{declareMonth:null},fileList:[],literatureTypesDataSource:{},options:[]}),h={declareMonth:[{required:!0,message:"请选择月份"}]},_=()=>{p.ruleForm={},p.isShowDialog=!1,f.value&&f.value.clearValidate()},M=()=>{_()},S=o(!1),w=()=>{f.value&&f.value.validate((a=>{a&&(S.value=!0,async function(a){return e({url:"/yifu-salary/method/tstatisticsbonus/batchDelete",method:"POST",params:a})}(p.ruleForm).then((e=>{e&&200==e.code?(m("ok"),_()):l.error(e.msg||"删除失败")}),(()=>{l.error("删除失败")}))["finally"]((e=>{S.value=!1})))}))};return t({openDialog:async e=>{p.title="批量删除",p.ruleForm={declareMonth:null},setTimeout((()=>{f.value&&f.value.clearValidate()}),100),p.isShowDialog=!0}}),(e,a)=>{const l=d("el-date-picker"),t=d("el-form-item"),o=d("el-col"),r=d("el-row"),m=d("el-form"),D=d("el-button"),V=d("el-dialog");return n(),s("div",y,[u(V,{title:p.title,modelValue:p.isShowDialog,"onUpdate:modelValue":a[1]||(a[1]=e=>p.isShowDialog=e),"close-on-click-modal":!1,width:"576px",onClose:_},{footer:i((()=>[c("span",b,[u(D,{onClick:M,size:"default"},{"default":i((()=>[g])),_:1}),u(D,{type:"primary",onClick:w,loading:S.value,size:"default"},{"default":i((()=>[v])),_:1},8,["loading"])])])),"default":i((()=>[u(m,{ref_key:"formRef",ref:f,model:p.ruleForm,rules:h,size:"default","label-width":"140px"},{"default":i((()=>[u(r,null,{"default":i((()=>[u(o,{"class":"mb20"},{"default":i((()=>[u(t,{label:"申报月份",prop:"declareMonth"},{"default":i((()=>[u(l,{modelValue:p.ruleForm.declareMonth,"onUpdate:modelValue":a[0]||(a[0]=e=>p.ruleForm.declareMonth=e),type:"month",placeholder:"请选择申报月份",style:{width:"100%"},format:"YYYYMM","value-format":"YYYYMM"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}}}),[["__scopeId","data-v-8849d3b0"]]),S=Object.freeze(Object.defineProperty({__proto__:null,"default":M},Symbol.toStringTag,{value:"Module"}));export{M as a,p as b,S as c,h as d,f as g};