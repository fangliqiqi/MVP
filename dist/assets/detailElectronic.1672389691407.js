import{_ as a,e,E as t}from"./index.1672389691407.js";import{g as l}from"./file.1672389691407.js";import{d as s,$ as o,c as i,W as n,P as d,a3 as c,o as r,a as f,F as p,a5 as u,O as m,V as g,u as h,U as w,ay as _,az as x}from"./vue.1672389691407.js";const y={"class":"electronic-detail-container"},k={"class":"desc-title"},v={"class":"desc-content"},I=(a=>(_("data-v-5a9780c7"),a=a(),x(),a))((()=>f("span",{"class":"desc-title"},"附件",-1))),D={"class":"desc-content"},L={key:0},S=["href","download"],j={key:1},V={"class":"dialog-footer"},b=w("关 闭"),U=s({name:"electronic-detail-dialog"});var z=a(Object.assign(U,{setup(a,{expose:s}){const _=o({isShowDialog:!1,info:null,header:[{dataIndex:"empName",title:"员工姓名"},{dataIndex:"empIdcard",title:"身份证号"},{dataIndex:"dataType",title:"资料类型"}],fileList:[]}),x=()=>{_.isShowDialog=!1};return s({openDialog:async a=>{_.info=a,(async a=>{try{const e=await l(a);e&&200===e.code?_.fileList=e.data.map((a=>(a.name=a.attaName,a.uid=a.id,a.url=a.attaUrl,a))):(_.fileList=[],t.error(e.msg||"获取附件失败"))}catch(e){}})(a.id),_.isShowDialog=!0}}),(a,t)=>{const l=c("el-col"),s=c("el-tooltip"),o=c("el-row"),U=c("el-button"),z=c("el-dialog");return r(),i("div",y,[n(z,{title:"电子档案详情",modelValue:_.isShowDialog,"onUpdate:modelValue":t[0]||(t[0]=a=>_.isShowDialog=a),"close-on-click-modal":!1,width:"576px",onClose:x},{footer:d((()=>[f("span",V,[n(U,{onClick:x,size:"default"},{"default":d((()=>[b])),_:1})])])),"default":d((()=>[n(o,null,{"default":d((()=>[(r(!0),i(p,null,u(_.header,(a=>(r(),m(l,{key:a.dataIndex,span:24,"class":"item-container"},{"default":d((()=>[f("span",k,g(a.title),1),f("span",v,g(_.info[a.dataIndex]||h(e)),1)])),_:2},1024)))),128)),n(l,{span:24,"class":"item-container"},{"default":d((()=>[I,f("span",D,[_.fileList&&_.fileList.length?(r(),i("div",L,[(r(!0),i(p,null,u(_.fileList,(a=>(r(),i("div",{key:a.url,"class":"attach-file"},[n(s,{placement:"top"},{content:d((()=>[w(g(a.name),1)])),"default":d((()=>[f("a",{href:a.url,download:a.name,target:"_blank"},g(a.name),9,S)])),_:2},1024)])))),128))])):(r(),i("span",j,g(h(e)),1))])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-5a9780c7"]]);export{z as default};